<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>12101111&#x27;s blog - Hello World Again And use gutenberg</title>

      
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https://12101111.github.io/rss.xml">
      

      
    <script src="https://12101111.github.io/slideout.min.js"></script>


      
          <link rel="stylesheet" href="https://12101111.github.io/site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">Coding...</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;12101111.github.io">
                            Home
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;12101111.github.io&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;12101111.github.io&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;12101111.github.io">Coding...</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;12101111.github.io">
                                    Home
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;12101111.github.io&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;12101111.github.io&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    


<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content always-active">
        <nav id="TableOfContents">
            <ul>
                
                <li>
                    <a href="https://12101111.github.io/hello-world/#yuan-yin" class="toc-link">原因</a>
                    
                </li>
                
                <li>
                    <a href="https://12101111.github.io/hello-world/#xuan-ze" class="toc-link">选择</a>
                    
                </li>
                
                <li>
                    <a href="https://12101111.github.io/hello-world/#bu-shu" class="toc-link">部署</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#an-zhuang" class="toc-link">安装</a>
                        </li>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#shi-yong" class="toc-link">使用</a>
                        </li>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#wen-jian-jia-jie-gou" class="toc-link">文件夹结构</a>
                        </li>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#config-toml" class="toc-link">config.toml</a>
                        </li>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#contentwen-jian-jia" class="toc-link">content文件夹</a>
                        </li>
                        
                        <li>
                            <a href="https://12101111.github.io/hello-world/#zi-dong-bu-shu" class="toc-link">自动部署</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</div>


<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;12101111.github.io&#x2F;hello-world&#x2F;">Hello World Again And use gutenberg</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2018-08-05</span>
            
        </div>
    </header>

    <div class="post-content">
      <p>在使用hexo写了寥寥几篇文章后,我还是放弃了这个著名的静态博客程序.</p>
<span id="continue-reading"></span><h1 id="yuan-yin">原因</h1>
<p>hexo作为一个nodejs项目,运行需要安装node,然后运行</p>
<pre data-lang="bash" style="background-color:#fdf6e3;color:#657b83;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#b58900;">npm</span><span> install hexo-cli</span><span style="color:#268bd2;"> -g
</span><span style="color:#b58900;">hexo</span><span> init &lt;folder&gt;
</span><span style="color:#859900;">cd </span><span>&lt;folder&gt;
</span><span style="color:#b58900;">npm</span><span> install
</span></code></pre>
<p>然而问题来了,我运行Windows10和Manjaro Linux双系统,写文章可能会发生在两个系统,同时Linux有ntfs-3g,Windows有ext2fs,那么我就可以使用同一个文件夹了吗,结果是不行的.</p>
<p>不同系统的node_modules内容略有不同,在Windows下不能使用Linux下的node_modules,通用的方法就是删了再运行<code>npm install</code>,然后等.</p>
<p>但npm缓慢的安装速度让我失去了信心,我决定放弃hexo.</p>
<h1 id="xuan-ze">选择</h1>
<p><a href="https://www.staticgen.com/">https://www.staticgen.com/</a> 这个网站列出大量的静态网站生成器(不都是博客),其中不需要运行时或者虚拟机就能运行的有两个</p>
<ul>
<li><a href="https://gohugo.io/">hugo</a></li>
<li><a href="https://www.getgutenberg.io">gutenberg</a></li>
</ul>
<p>Hugo是Go写的,Gutenberg是Rust写的,由于我对Rust的偏好,我选择后者.但从功能、主题数量、流行程度上讲，Hugo更适合大众需求。</p>
<p>下面是gutenberg文档的简单翻译,原文<a href="https://www.getgutenberg.io/documentation/">https://www.getgutenberg.io/documentation/</a></p>
<h1 id="bu-shu">部署</h1>
<h2 id="an-zhuang">安装</h2>
<p>从<a href="https://github.com/Keats/gutenberg/releases">GitHub Release页面</a>下载二进制文件并解压,将文件夹添加到<code>PATH</code>环境变量.只需要一个文件即可运行.<a href="https://www.getgutenberg.io/documentation/getting-started/installation/">官网</a>提供了各种包管理器的安装方法.</p>
<h2 id="shi-yong">使用</h2>
<pre data-lang="bash" style="background-color:#fdf6e3;color:#657b83;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#b58900;">$</span><span> gutenberg</span><span style="color:#268bd2;"> --help
</span><span style="color:#b58900;">gutenberg</span><span> 0.4.1
</span><span style="color:#b58900;">Vincent</span><span> Prouillet &lt;prouillet.vincent@gmail.com&gt;
</span><span style="color:#b58900;">A</span><span> fast static site generator with everything built-in
</span><span>
</span><span style="color:#b58900;">USAGE:
</span><span>    </span><span style="color:#b58900;">gutenberg </span><span style="color:#859900;">[</span><span>OPTIONS</span><span style="color:#859900;">] </span><span>&lt;SUBCOMMAND&gt;
</span><span>
</span><span style="color:#b58900;">FLAGS:
</span><span>    </span><span style="color:#b58900;">-h,</span><span style="color:#268bd2;"> --help</span><span>       Prints help information    
</span><span>    </span><span style="color:#b58900;">-V,</span><span style="color:#268bd2;"> --version</span><span>    Prints version information
</span><span style="color:#b58900;">OPTIONS:
</span><span>    </span><span style="color:#b58900;">-c,</span><span style="color:#268bd2;"> --config </span><span>&lt;config&gt;    Path to a config file other than config.toml </span><span style="color:#859900;">[</span><span>default: config.toml</span><span style="color:#859900;">]
</span><span>
</span><span style="color:#b58900;">SUBCOMMANDS:
</span><span>    </span><span style="color:#b58900;">build</span><span>    Builds the site
</span><span>    </span><span style="color:#859900;">help</span><span>     Prints this message or the help of the given subcommand(s)
</span><span>    </span><span style="color:#b58900;">init</span><span>     Create a new Gutenberg project
</span><span>    </span><span style="color:#b58900;">serve</span><span>    Serve the site. Rebuild and reload on change automatically
</span></code></pre>
<p>执行<code>gutenberg init blog</code>来初始化.执行<code>gutenberg serve</code>来预览,默认地址为<a href="http://127.0.0.1:1111/">http://127.0.0.1:1111/</a>.执行<code>gutenberg build</code>生成静态文件,输出到<code>public</code>文件夹.</p>
<h2 id="wen-jian-jia-jie-gou">文件夹结构</h2>
<ul>
<li>config.toml 配置文件,</li>
<li>content markdown文件夹</li>
<li>sass 样式表文件夹</li>
<li>static JavaScript与其他文件 </li>
<li>templates 渲染模板文件夹</li>
<li>themes 主题文件夹</li>
</ul>
<p><a href="https://www.getgutenberg.io/themes/">主题列表</a></p>
<p>主题文件夹下存放主题文件夹,配置文件中的主题名即此文件夹名,一个主题的文件夹结构与上面相同,多一个theme.toml.生成网站时,gutenberg同时使用网站和theme的<code>sass</code>、<code>static</code>和<code>templates</code>文件夹中的数据,但网站的优先级更高.</p>
<p>static文件夹中的文件会复制到输出文件夹的根目录,使用其中的文件需要使用绝对路径,例如<code>/static/logo.png</code>的正确链接是<code>/logo.png</code></p>
<h2 id="config-toml">config.toml</h2>
<p>配置文件格式为<a href="https://github.com/toml-lang/toml/blob/master/README.md">TOML</a>,以下为建议配置,所有选项见<a href="https://www.getgutenberg.io/documentation/getting-started/configuration/">官方文档</a></p>
<pre data-lang="toml" style="background-color:#fdf6e3;color:#657b83;" class="language-toml "><code class="language-toml" data-lang="toml"><span style="color:#93a1a1;"># 网站域名,必选,以下均为可选
</span><span style="color:#268bd2;">base_url </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">https://xxx.github.io</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 标题,用于RSS而不是网页
</span><span style="color:#268bd2;">title </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 介绍,用于RSS而不是网页
</span><span style="color:#268bd2;">description </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 主题名
</span><span style="color:#268bd2;">theme </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 使用代码高亮
</span><span style="color:#268bd2;">highlight_code </span><span>= </span><span style="color:#b58900;">true
</span><span>
</span><span style="color:#93a1a1;"># 代码高亮主题,列表见上面的官方文档
</span><span style="color:#268bd2;">highlight_theme </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">solarized-light</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 生成RSS文件
</span><span style="color:#268bd2;">generate_rss </span><span>= </span><span style="color:#b58900;">false
</span><span>
</span><span style="color:#93a1a1;"># 是否编译 sass
</span><span style="color:#268bd2;">compile_sass </span><span>= </span><span style="color:#b58900;">true
</span><span>
</span><span style="color:#93a1a1;"># 生成搜索索引,支持搜索与否取决于主题
</span><span style="color:#268bd2;">build_search_index </span><span>= </span><span style="color:#b58900;">false
</span><span>
</span><span style="color:#93a1a1;"># 检查外部死链,极其耗时
</span><span style="color:#268bd2;">check_external_links </span><span>= </span><span style="color:#b58900;">false
</span><span>
</span><span style="color:#93a1a1;"># taxonomies是页面的分类方式,这些变量先在这里定义,随后会根据模板生成对应的分类页面
</span><span style="color:#93a1a1;"># 模板在theme或者templates下的name文件夹,需要
</span><span style="color:#93a1a1;"># `list.html`(分类列表)和`single.html`(每个分类下的文章列表)
</span><span style="color:#93a1a1;"># 定义格式:{name = &quot;名称&quot;,paginate_by = 5, paginate_path = &quot;page&quot; rss = 是否生成RSS}
</span><span style="color:#93a1a1;"># paginate_by:文章列表一个页面的文章数量(可选,0为不分页),paginate_path含义见下文
</span><span style="color:#93a1a1;"># 建议如下
</span><span style="color:#268bd2;">taxonomies </span><span>= [
</span><span>    {</span><span style="color:#268bd2;">name </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">tags</span><span style="color:#839496;">&quot;</span><span>},
</span><span>    {</span><span style="color:#268bd2;">name </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">categories</span><span style="color:#839496;">&quot;</span><span>},
</span><span>]
</span><span>
</span><span style="color:#93a1a1;"># 不对content文件夹中满足以下通配符的文件进行处理和渲染
</span><span style="color:#268bd2;">ignored_content </span><span>= [</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">*.{tmp,xlsx}</span><span style="color:#839496;">&quot;</span><span>, </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">*draft.md</span><span style="color:#839496;">&quot;</span><span>]
</span><span>
</span><span style="color:#93a1a1;"># extra存放没有被程序定义的变量,可以被模板和主题使用
</span><span>[</span><span style="color:#b58900;">extra</span><span>]
</span></code></pre>
<h2 id="contentwen-jian-jia">content文件夹</h2>
<p><code>content</code>文件夹有两个概念:<code>section</code>和<code>page</code>.<code>section</code>作为目录或者列表页,<code>page</code>则是作为文章页.</p>
<p>当一个文件夹下存在<code>_index.md</code>时会创建一个<code>section</code>.<code>section</code>文件夹下的md文件(除了<code>_index.md</code>)会成为<code>page</code>.</p>
<p>没有<code>_index.md</code>的文件夹不是<code>section</code>,但md文件仍会渲染成<code>page</code>,只能通过url访问.</p>
<p>主页显示的内容是content文件夹这个section,其渲染模板是<code>templates/index.html</code>.即使不存在<code>_index.md</code>,content文件夹也是section,但这时一些主题无法渲染,因此建议加入<code>/content/_index.md</code></p>
<p>gutenberg要求所有markdown文件开头都有front-matter.front-matter为markdown开头使用+++包围的行,其中格式为TOML.<code>_index.md</code>的front-matter模板如下,其中的值为默认值,所有项目均可选.即使一个项目也没有,+++也不能省去.</p>
<pre data-lang="toml" style="background-color:#fdf6e3;color:#657b83;" class="language-toml "><code class="language-toml" data-lang="toml"><span style="background-color:#ec9489;color:#657b83;">+++</span><span>
</span><span style="color:#268bd2;">title </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#268bd2;">description </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 对 pages 按 日期&quot;date&quot; 或 优先度&quot;weight&quot; 排序,或不排序 &quot;none&quot; .weight越低越优先
</span><span style="color:#268bd2;">sort_by </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">none</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 用于父section对子section排序
</span><span style="color:#93a1a1;"># 不像page,section的排序只能按weight,同weight的section顺序是随机的
</span><span style="color:#93a1a1;"># 越低越优先
</span><span style="color:#268bd2;">weight </span><span>= </span><span style="color:#6c71c4;">0
</span><span>
</span><span style="color:#93a1a1;"># 渲染这个section使用的模板,注意content文件夹默认使用index.html
</span><span style="color:#268bd2;">template </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">section.html</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 每页展示多少page
</span><span style="color:#93a1a1;"># 设为0标识不分页
</span><span style="color:#268bd2;">paginate_by </span><span>= </span><span style="color:#6c71c4;">0
</span><span>
</span><span style="color:#93a1a1;"># 分页后在url中显示的表示页面的路径,页面数会显示在后面
</span><span style="color:#93a1a1;"># 例如默认的url是 page/1
</span><span style="color:#268bd2;">paginate_path </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">page</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 是否在pages的标题上插入锚符号🔗,当鼠标悬浮在标题上时出现,便于复制锚链接
</span><span style="color:#93a1a1;"># 选项&quot;left&quot;, &quot;right&quot; and &quot;none&quot;
</span><span style="color:#268bd2;">insert_anchor_links </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">none</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># 是否出现在搜索索引中
</span><span style="color:#93a1a1;"># config.toml中`build_search_index`需要设为true
</span><span style="color:#268bd2;">in_search_index </span><span>= </span><span style="color:#b58900;">true
</span><span>
</span><span style="color:#93a1a1;"># 是否渲染此section
</span><span style="color:#93a1a1;"># 当你只想在此section中存放page却不想显示列表时使用
</span><span style="color:#268bd2;">render </span><span>= </span><span style="color:#b58900;">true
</span><span>
</span><span style="color:#93a1a1;"># 在访问此section时重定向到另一url,默认为空不重定向.
</span><span style="color:#93a1a1;"># 原因同上,但你不想在访问此url时显示404
</span><span style="color:#268bd2;">redirect_to </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 额外的变量
</span><span>[</span><span style="color:#b58900;">extra</span><span>]
</span><span style="background-color:#ec9489;color:#657b83;">+++</span><span>
</span><span>
</span><span style="color:#93a1a1;"># 通过section.content访问这里的内容
</span></code></pre>
<p>page也有Front-matter,格式如下.</p>
<pre data-lang="toml" style="background-color:#fdf6e3;color:#657b83;" class="language-toml "><code class="language-toml" data-lang="toml"><span style="background-color:#ec9489;color:#657b83;">+++</span><span>
</span><span style="color:#268bd2;">title </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span style="color:#268bd2;">description </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 日期
</span><span style="color:#93a1a1;"># 支持2种格式:YYYY-MM-DD (2012-10-02) , RFC3339 (2002-10-02T15:00:00Z),注意没有括号引号
</span><span style="color:#93a1a1;"># 当 section 的 `sort_by` 为 `date`, `date`为空会导致不被渲染
</span><span style="color:#268bd2;">date </span><span>= </span><span style="color:#cb4b16;">2018-08-05
</span><span>
</span><span style="color:#93a1a1;"># 优先度,越低越优先
</span><span style="color:#93a1a1;"># 当 section 的 `sort_by` 为 `weight`, `weight`为空会导致不被渲染
</span><span style="color:#268bd2;">weight </span><span>= </span><span style="color:#6c71c4;">0
</span><span>
</span><span style="color:#93a1a1;"># 草稿
</span><span style="color:#268bd2;">draft </span><span>= </span><span style="color:#b58900;">false
</span><span>
</span><span style="color:#93a1a1;"># 当不为空时,不使用文件名作为url结尾,而是这里的值
</span><span style="color:#93a1a1;"># section仍然会出现在url中
</span><span style="color:#268bd2;">slug </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 设置url绝对路径
</span><span style="color:#93a1a1;"># 不以/开头
</span><span style="color:#268bd2;">path </span><span>= </span><span style="color:#839496;">&quot;&quot;
</span><span>
</span><span style="color:#93a1a1;"># 当你想重定向其他url到此页面时,将那些url加入数组.格式同path,不以/开头
</span><span style="color:#268bd2;">aliases </span><span>= []
</span><span>
</span><span style="color:#93a1a1;"># 是否出现在搜索索引
</span><span style="color:#268bd2;">in_search_index </span><span>= </span><span style="color:#b58900;">true
</span><span>
</span><span style="color:#93a1a1;"># 渲染页面使用的模板,默认为page.html
</span><span style="color:#268bd2;">template </span><span>= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">page.html</span><span style="color:#839496;">&quot;
</span><span>
</span><span style="color:#93a1a1;"># taxonomies,名称需要在`config.toml`中定义,值为字符串数组
</span><span style="color:#93a1a1;"># tags = [&quot;rust&quot;, &quot;web&quot;]
</span><span>[</span><span style="color:#b58900;">taxonomies</span><span>]
</span><span style="color:#268bd2;">categories </span><span>= [</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">blog</span><span style="color:#839496;">&quot;</span><span>]
</span><span style="color:#268bd2;">tags </span><span>= [</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">rust</span><span style="color:#839496;">&quot;</span><span>, </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">javascript</span><span style="color:#839496;">&quot;</span><span>, </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">nodejs</span><span style="color:#839496;">&quot;</span><span>]
</span><span>
</span><span style="color:#93a1a1;"># 自定义变量
</span><span>[</span><span style="color:#b58900;">extra</span><span>]
</span><span style="background-color:#ec9489;color:#657b83;">+++</span><span>
</span><span>
</span><span style="color:#93a1a1;"># 正文...
</span></code></pre>
<p>page的文件名(不含.md)和子section的文件夹名会成为url的一部分.但page的url可以通过Front-matter中的path设置改变</p>
<p>当一个文件夹下存在<code>index.md</code>时(且不能有<code>_index.md</code>)会创建一个与文件夹名相同的page,并属于上一级section.这常用于存放页面专用的资源文件,这些文件可以使用相对路径读取.出于维护性的考虑,不要在这种文件夹下放其他md文件或<code>_index.md</code>.</p>
<p><code>section</code>可以无限嵌套,但实现效果取决于主题文件和模板.子<code>section</code>的渲染模板是<code>templates/section.html</code>,但部分主题没有此文件,也就不支持子<code>section</code></p>
<p>gutenberg还支持在markdown中插入<a href="https://www.getgutenberg.io/documentation/content/shortcodes/">shortcodes</a>,例如输入以下内容会插入一个gist</p>
<div >
    <script src="https:&#x2F;&#x2F;gist.github.com&#x2F;12101111&#x2F;63b36d8bd9bfddbe72fc24dd4c1aaeff.js"></script>
</div>
<p>也支持<a href="https://www.getgutenberg.io/documentation/content/image-processing/">图像缩放</a></p>
<p>gutenberg使用<a href="https://tera.netlify.com/">tera</a>处理模板.其语法类似Jinja2, Django templates, Liquid, Twig</p>
<h2 id="zi-dong-bu-shu">自动部署</h2>
<p>此博客使用CI自动部署,源代码存放在source分支.</p>
<pre data-lang="yml" style="background-color:#fdf6e3;color:#657b83;" class="language-yml "><code class="language-yml" data-lang="yml"><span style="color:#268bd2;">before_script</span><span>:
</span><span>  </span><span style="color:#93a1a1;"># Download and unzip the gutenberg executable
</span><span>  </span><span style="color:#93a1a1;"># Replace the version numbers in the URL by the version you want to use
</span><span>  - </span><span style="color:#2aa198;">curl -s -L https://github.com/Keats/gutenberg/releases/download/v0.4.1/gutenberg-v0.4.1-x86_64-unknown-linux-gnu.tar.gz | sudo tar xvzf - -C /usr/local/bin
</span><span>
</span><span style="color:#268bd2;">script</span><span>:
</span><span>  - </span><span style="color:#2aa198;">gutenberg build
</span><span>
</span><span style="color:#93a1a1;"># If you are using a different folder than `public` for the output directory, you will
</span><span style="color:#93a1a1;"># need to change the `gutenberg` command and the `ghp-import` path
</span><span style="color:#268bd2;">after_success</span><span>: </span><span style="color:#859900;">|
</span><span style="color:#2aa198;">  [ $TRAVIS_BRANCH = source ] &amp;&amp;
</span><span style="color:#2aa198;">  [ $TRAVIS_PULL_REQUEST = false ] &amp;&amp;
</span><span style="color:#2aa198;">  gutenberg build &amp;&amp;
</span><span style="color:#2aa198;">  sudo pip install ghp-import &amp;&amp;
</span><span style="color:#2aa198;">  ghp-import -b master -m &quot;push by CI&quot; -n public &amp;&amp; 
</span><span style="color:#2aa198;">  git push -fq https://${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git master:master
</span><span style="color:#2aa198;">
</span><span style="color:#268bd2;">branches</span><span>:
</span><span>  </span><span style="color:#268bd2;">only</span><span>:
</span><span>    - </span><span style="color:#2aa198;">source
</span></code></pre>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https://12101111.github.io/tags/rust/">#rust</a>
                    
                        <a href="https://12101111.github.io/tags/javascript/">#javascript</a>
                    
                        <a href="https://12101111.github.io/tags/nodejs/">#nodejs</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;12101111.github.io&#x2F;gitcang-ku-sun-pi&#x2F;">‹ 记一次git仓库损坏的经历</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;12101111.github.io&#x2F;rustxue-xi-zi-liao&#x2F;">Rust学习资料 ›</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https://12101111.github.io/even.js" ></script>
      
    </body>

</html>
